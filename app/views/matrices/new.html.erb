<!-- Page Content -->
<div class="container">
  <div class="col-lg-12 text-center mb-5">
    <h1 class="mt-5">Competency Matrix</h1>
    <p class="lead">Track your competencies so you can improve them!</p>
  </div>

  <ul class="nav nav-tabs justify-content-end border-light border-bottom-0" id="myTab" role="tablist">
    <% @matrices.each do |matrix| %>
      <li class="nav-item <%= 'active' if matrix.title == 'Javascript' %>">
        <a class="nav-link"
           id="<%= matrix.title %>-tab"
           data-toggle="tab"
           href="#<%= matrix.title %>"
           role="tab"
           aria-controls="<%= matrix.title %>"
           aria-expanded="true">
           <%= matrix.title %>
        </a>
      </li>
    <% end %>
  </ul>

  <div class="tab-content p-4 border">
    <% @matrices.each do |matrix| %>
      <div class="tab-pane fade show <%= 'active' if matrix.title == 'Javascript' %>" id="<%= matrix.title %>" role="tabpanel" aria-labelledby="<%= matrix.title %>-tab">
        <div class="row">
          <div class="col-lg-12 mx-auto">
            <table class="table">
              <h3 class="text-center mb-4"><%= matrix.title %></h2>
              <thead class="thead-default">
                <tr>
                  <% matrix.headers.each do |header| %>
                    <th><%= header %></th>
                  <% end %>
                </tr>
              </thead>
              <tbody>
                <% matrix.competencies.each do |competency| %>
                  <tr>
                    <% competency.levels.each do |level| %>
                      <td class="competency" onclick="selectCompetency(event)">
                        <%= level.html_safe %>
                      </td>
                    <% end %>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
